{
    "flow_name": "bkhis",
    "description": "Metadata describe BKHIS",
    "source": {
        "type": "file",
        "extension": ".csv",
        "delimiter": ",",
        "encoding": "utf-8"
    },
    "schema": {
        "columns": {
            "customer_id": {
                "type": "integer",
                "nullable": false,
                "unique": true,
                "description": "Unique identifier for the customer."
            },
            "first_name": {
                "type": "string",
                "nullable": false,
                "max_length": 50,
                "description": "Customer's first name."
            },
            "last_name": {
                "type": "string",
                "nullable": false,
                "max_length": 50,
                "description": "Customer's last name."
            },
            "email": {
                "type": "string",
                "nullable": false,
                "format": "email",
                "unique": true,
                "description": "Customer's email address."
            },
            "birth_date": {
                "type": "date",
                "nullable": true,
                "format": "YYYY-MM-DD",
                "description": "Customer's date of birth."
            },
            "created_at": {
                "type": "datetime",
                "nullable": false,
                "format": "YYYY-MM-DDTHH:mm:ss",
                "description": "Timestamp when the record was created."
            },
            "is_active": {
                "type": "boolean",
                "nullable": false,
                "default": true,
                "description": "Indicates whether the customer is active."
            }
        },
        "primary_key": ["customer_id"],
        "foreign_keys": []
    },
    "pre_validation_rules": {
        "handler": "StructureValidationHandler"
    },
    "post_validation_rules": {
        "handler": "StructureValidationHandler"
    },
    "transformation_rules" : {
        "type_casting": {
            "columns": {
                "customer_id": "integer",
                "created_at": "datetime",
                "birth_date": "datetime",
                "is_active": "boolean"
            }
        },
        "strip_whitespace": {
            "columns": ["first_name", "last_name"]
        },
        "custom_transformations": [
            {
                "operation": "uppercase",
                "columns": ["first_name", "last_name"]
            }
        ]
    }
}
